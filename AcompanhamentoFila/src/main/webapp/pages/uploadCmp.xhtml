<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/template/template.xhtml">


	<ui:define name="conteudo">

		<h:form>

			<p:panel header="Upload de arquivo">
				<p:panelGrid columns="2">
					<p:graphicImage library="image" name="Upload1.png" width="64px" height="64px"/>
					<p:commandButton value="Upload"
						oncomplete="PF('uplArquivo').show();"
						actionListener="#{chamadoMB.novo}" icon="ui-icon-extlink" />
				</p:panelGrid>

			</p:panel>
		</h:form>

		<p:ajaxStatus onstart="PF('statusUpl').show()"
			onsuccess="PF('statusUpl').hide()" />
		<p:dialog widgetVar="statusUpl" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false"
			showEffect="fade">
			<h:form>
				<p:graphicImage library="image" name="loadingBar1.gif" />
			</h:form>
		</p:dialog>

		<p:dialog header="Upload do arquivo de chamados"
			widgetVar="uplArquivo" draggable="false" resizable="false"
			modal="true" showEffect="fade" hideEffect="fade">

			<h:form id="fmrUpl" enctype="multipart/form-data">
				<h:panelGrid>
					<p:outputLabel for="upFile" value="Escolha o arquivo" />
					<p:fileUpload id="upFile" mode="advanced"
						fileUploadListener="#{chamadoMB.uploadFile}" update="mensagem"
						auto="true" />
				</h:panelGrid>

				<h:panelGrid columns="3">
					<p:commandButton value="Salvar"
						actionListener="#{chamadoMB.salvar}" update=":mensagem" />
					<p:commandButton value="Fechar"
						oncomplete="PF('uplArquivo').hide();" />
				</h:panelGrid>
			</h:form>

		</p:dialog>


	</ui:define>
</ui:composition>