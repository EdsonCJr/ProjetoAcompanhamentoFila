<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/template/template.xhtml">


	<ui:define name="conteudo">

		<p:fieldset legend="Upload de arquivo">
		
			<h:form id="fmrUpl" enctype="multipart/form-data">
				<h:panelGrid>					
					<p:fileUpload id="upFile" mode="advanced"
						fileUploadListener="#{uploadMB.uploadFile}" update="mensagem"
						auto="true" allowTypes="/(\.|\/)(csv)$/" label="Escolha o arquivo" />
				</h:panelGrid>

				<h:panelGrid columns="3">
					<p:commandButton value="Salvar" actionListener="#{uploadMB.salvar}"
						update=":mensagem" oncomplete="PF('uplArquivo').hide()" />
				</h:panelGrid>
			</h:form>

		</p:fieldset>

		<p:ajaxStatus onstart="PF('statusUpl').show()"
			onsuccess="PF('statusUpl').hide()" />
		<p:dialog widgetVar="statusUpl" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false"
			showEffect="fade">
			<h:form>
				<p:graphicImage library="image" name="loadingBar1.gif" />
			</h:form>
		</p:dialog>

	</ui:define>
</ui:composition>