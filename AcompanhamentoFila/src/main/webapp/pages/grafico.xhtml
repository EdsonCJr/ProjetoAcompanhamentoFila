<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/template/template.xhtml">


	<ui:define name="conteudo">

		<p:panel>

			<!-- 
				<p:chart type="bar" model="#{chamadoGraficoMB.barModel}" />
			 -->
			<pe:gChart title="Chamados em atendimento por vencimento"
				value="#{chamadoGraficoMB.chartModel}" />

			<p:tabView>

				<p:tab title="Chamados vencidos">
					<h:form>
						<p:dataTable id="tblVencido"
							value="#{chamadoGraficoMB.listaChamadoVencido}" var="chVencido"
							paginator="true" paginatorPosition="bottom" rows="10">

							<p:column headerText="Número chamado">
								<h:outputText value="#{chVencido.numeroChamado}" />
							</p:column>

							<p:column headerText="Data abertura">
								<h:outputText value="#{chVencido.dataAbertura}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Status do chamado">
								<h:outputText value="#{chVencido.statusChamado.status}" />
							</p:column>

							<p:column headerText="Setor de abertura">
								<h:outputText value="#{chVencido.setorAbertura}" />
							</p:column>

							<p:column headerText="Criticidade">
								<h:outputText value="#{chVencido.criticidade}" />
							</p:column>

							<p:column headerText="Operador">
								<h:outputText value="#{chVencido.operadores.nome}" />
							</p:column>

							<p:column headerText="Vencimento SLA">
								<h:outputText value="#{chVencido.vencimentoSla}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Idade do chamado">
								<h:outputText value="#{chVencido.idadeChamado}" />
							</p:column>

						</p:dataTable>
					</h:form>
				</p:tab>

				<p:tab title="Chamados vencendo hoje">
					<h:form>
						<p:dataTable id="tblHoje"
							value="#{chamadoGraficoMB.listaChamadoHoje}" var="chHoje"
							paginator="true" paginatorPosition="bottom" rows="10">

							<p:column headerText="Número chamado">
								<h:outputText value="#{chHoje.numeroChamado}" />
							</p:column>

							<p:column headerText="Data abertura">
								<h:outputText value="#{chHoje.dataAbertura}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Status do chamado">
								<h:outputText value="#{chHoje.statusChamado.status}" />
							</p:column>

							<p:column headerText="Setor de abertura">
								<h:outputText value="#{chHoje.setorAbertura}" />
							</p:column>

							<p:column headerText="Criticidade">
								<h:outputText value="#{chHoje.criticidade}" />
							</p:column>

							<p:column headerText="Operador">
								<h:outputText value="#{chHoje.operadores.nome}" />
							</p:column>

							<p:column headerText="Vencimento SLA">
								<h:outputText value="#{chHoje.vencimentoSla}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Idade do chamado">
								<h:outputText value="#{chHoje.idadeChamado}" />
							</p:column>

						</p:dataTable>
					</h:form>
				</p:tab>

				<p:tab title="Chamados vencendo amanhã">
					<h:form>
						<p:dataTable id="tblAmanha"
							value="#{chamadoGraficoMB.listaChamadoAmanha}" var="chAmanha"
							paginator="true" paginatorPosition="bottom" rows="10">

							<p:column headerText="Número chamado">
								<h:outputText value="#{chHoje.numeroChamado}" />
							</p:column>

							<p:column headerText="Data abertura">
								<h:outputText value="#{chAmanha.dataAbertura}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Status do chamado">
								<h:outputText value="#{chAmanha.statusChamado.status}" />
							</p:column>

							<p:column headerText="Setor de abertura">
								<h:outputText value="#{chAmanha.setorAbertura}" />
							</p:column>

							<p:column headerText="Criticidade">
								<h:outputText value="#{chAmanha.criticidade}" />
							</p:column>

							<p:column headerText="Operador">
								<h:outputText value="#{chAmanha.operadores.nome}" />
							</p:column>

							<p:column headerText="Vencimento SLA">
								<h:outputText value="#{chAmanha.vencimentoSla}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Idade do chamado">
								<h:outputText value="#{chAmanha.idadeChamado}" />
							</p:column>

						</p:dataTable>
					</h:form>
				</p:tab>

				<p:tab title="Chamados a vencer">
					<h:form>
						<p:dataTable id="tblAvencer"
							value="#{chamadoGraficoMB.listaChamadoaVencer}" var="chAvencer"
							paginator="true" paginatorPosition="bottom" rows="10">

							<p:column headerText="Número chamado">
								<h:outputText value="#{chAvencer.numeroChamado}" />
							</p:column>

							<p:column headerText="Data abertura">
								<h:outputText value="#{chAvencer.dataAbertura}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Status do chamado">
								<h:outputText value="#{chAvencer.statusChamado.status}" />
							</p:column>

							<p:column headerText="Setor de abertura">
								<h:outputText value="#{chAvencer.setorAbertura}" />
							</p:column>

							<p:column headerText="Criticidade">
								<h:outputText value="#{chAvencer.criticidade}" />
							</p:column>

							<p:column headerText="Operador">
								<h:outputText value="#{chAvencer.operadores.nome}" />
							</p:column>

							<p:column headerText="Vencimento SLA">
								<h:outputText value="#{chAvencer.vencimentoSla}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
							</p:column>

							<p:column headerText="Idade do chamado">
								<h:outputText value="#{chAvencer.idadeChamado}" />
							</p:column>

						</p:dataTable>
					</h:form>
				</p:tab>

			</p:tabView>
		</p:panel>
	</ui:define>
</ui:composition>